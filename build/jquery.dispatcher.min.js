(function(f){var h=function(d,c){c||(c=f.stacks.serial([]));return function(a){if(a=="done")d.push(c,true);else return a._wrap?function(){var b=Array.prototype.slice.call(arguments,0);return a.exec(d,[c].concat(b))}:a._disp?function(){var b=Array.prototype.slice.call(arguments,0);return a.apply(d,[c].concat(b))}:d.kernel(c.push(a))}},j=function(d,c){var a,b="";b+="(function(){";b+="var done='done';";for(a in d)b+="var "+a+" = this."+a+";";b+="(";b+=c.toString();b+=")();});";return eval(b)},l=function(d,
c){c._disp=true;var a=function(){var b=Array.prototype.slice.call(arguments,0),g=arguments.callee.dispatcher,k=arguments.callee.helper;return h(g)(k).apply(g,b)};a._wrap=true;a.dispatcher=d;a.helper=c;a.exec=function(b,g){return this.helper.apply(b,g)};return a},m=function(d,c){var a,b;for(a in c){b=c[a];d[a]=l(d,b)}},n=function(d,c){var a=f.stacks.cascade([]),b=function(g){return h(arguments.callee.dispatcher,g)};b.dispatcher=a;a.kernel=b;m(a,d);j(d,c).call(a);return a},o=function(d){var c=function(a){return n(arguments.callee.helpers,
a)};c.helpers=d;return c};f.dispatcher=function(d,c){if(!c){c=d;d=undefined}var a={},b;if(d&&d.helpers)for(b in d.helpers)a[b]=d.helpers[b];if(c)for(b in c)a[b]=c[b];return o(a)};var i=f.dispatcher;f.dispatcher.http=i({method:function(d,c){return this.kernel(d.push(function(a,b){e.method==c?b(a):b.pass(a)}))},path:function(d,c){return this.kernel(d.push(function(a,b){e.path==c?b(a):b.pass(a)}))},host:function(d,c){return this.kernel(d.push(function(a,b){e.host==c?b(a):b.pass(a)}))},get:function(d,
c){return this.kernel(d)(this.method)("get")(this.path)(c)},post:function(d,c){return this.kernel(d)(this.method)("post")(this.path)(c)},put:function(d,c){return this.kernel(d)(this.method)("put")(this.path)(c)},del:function(d,c){return this.kernel(d)(this.method)("delete")(this.path)(c)}});f.dispatcher.body=i({body_class:function(d,c){return this.kernel(d.push(function(a,b){f("body").hasClass(c)?b(a):b.pass(a)}))},body_id:function(d,c){return this.kernel(d.push(function(a,b){f("body")[0].id==c?b(a):
b.pass(a)}))},body:function(d,c){return this.kernel(d.push(function(a,b){f("body").first().filter(c).length>0?b(a):b.pass(a)}))}})})(jQuery);
