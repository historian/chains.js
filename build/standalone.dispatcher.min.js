(function(g){function i(d){function b(c){return j(arguments.callee.a,c)}b.a=d;return b}function j(d,b){function c(f){return h(arguments.callee.b,f)}var a=g.stacks.cascade([]);c.b=a;a.kernel=c;k(a,d);l(d,b).call(a);return a}function k(d,b){var c,a;for(c in b){a=b[c];d[c]=m(d,a)}}function m(d,b){function c(){var a=Array.prototype.slice.call(arguments,0),f=arguments.callee.b,n=arguments.callee.c;return h(f)(n).apply(f,a)}b.d=true;c.e=true;c.b=d;c.c=b;c.exec=function(a,f){return this.c.apply(a,f)};return c}
function l(d,b){var c,a="";a+="(function(){";a+="var done='done';";for(c in d)a+="var "+c+" = this."+c+";";a+="(";a+=b.toString();a+=")();});";return eval(a)}function h(d,b){b||(b=g.stacks.serial([]));return function(c){if(c=="done")d.push(b,true);else return c.e?function(){var a=Array.prototype.slice.call(arguments,0);return c.exec(d,[b].concat(a))}:c.d?function(){var a=Array.prototype.slice.call(arguments,0);return c.apply(d,[b].concat(a))}:d.kernel(b.push(c))}}g.dispatcher=function(d,b){if(!b){b=
d;d=undefined}var c={},a;if(d&&d.a)for(a in d.a)c[a]=d.a[a];if(b)for(a in b)c[a]=b[a];return i(c)};g.dispatcher.http=(0,g.dispatcher)({method:function(d,b){return this.kernel(d.push(function(c,a){e.method==b?a(c):a.pass(c)}))},path:function(d,b){return this.kernel(d.push(function(c,a){e.path==b?a(c):a.pass(c)}))},host:function(d,b){return this.kernel(d.push(function(c,a){e.host==b?a(c):a.pass(c)}))},get:function(d,b){return this.kernel(d)(this.method)("get")(this.path)(b)},post:function(d,b){return this.kernel(d)(this.method)("post")(this.path)(b)},
put:function(d,b){return this.kernel(d)(this.method)("put")(this.path)(b)},del:function(d,b){return this.kernel(d)(this.method)("delete")(this.path)(b)}})})(this);
